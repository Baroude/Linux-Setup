# tidal/mopidy.conf
# Mopidy configuration template.
# Installed to ~/.config/mopidy/mopidy.conf by install-ncmpcpp-tidal.sh.
#
# First-time Tidal auth: see the instructions printed at the end of the
# install script.

[core]
cache_dir  = ~/.local/share/mopidy
config_dir = ~/.config/mopidy
data_dir   = ~/.local/share/mopidy

[logging]
verbosity = 0

[file]
# Disabled — we only use Tidal, no local music library.
enabled = false

[stream]
# Disabled — not needed for Tidal-only setup.
enabled = false

[m3u]
# Disabled — no local playlists.
enabled = false

[audio]
# autoaudiosink picks PipeWire → PulseAudio → ALSA automatically.
# Override to 'pulsesink' or 'alsasink' if it picks the wrong sink.
output = autoaudiosink

[mpd]
enabled            = true
hostname           = 127.0.0.1
port               = 6600
connection_timeout = 60
zeroconf           =

[http]
# Mopidy HTTP frontend (web UI, JSON-RPC).
# Using port 6680 to avoid conflict with mopidy-tidal PKCE server on 8989.
enabled  = true
hostname = 127.0.0.1
port     = 6680

[tidal]
enabled     = true
quality     = LOSSLESS
auth_method = PKCE
# mopidy-tidal PKCE OAuth callback server binds to port 8989 by default.
# Keep [http] on a different port (6680) to avoid address-already-in-use error.
# Token is saved automatically to ~/.local/share/mopidy/mopidy-tidal/
