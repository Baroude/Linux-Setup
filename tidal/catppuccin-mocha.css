/*
 * Catppuccin Mocha — tidal-hifi custom CSS theme
 *
 * Palette reference:
 *   Crust    #11111b   Mantle   #181825   Base     #1e1e2e
 *   Surface0 #313244   Surface1 #45475a   Surface2 #585b70
 *   Overlay0 #6c7086   Subtext0 #a6adc8   Text     #cdd6f4
 *   Blue     #89b4fa   Lavender #b4befe   Mauve    #cba6f7
 *   Green    #a6e3a1   Teal     #94e2d5   Peach    #fab387
 *   Red      #f38ba8   Yellow   #f9e2af
 *
 * Load via: tidal-hifi → Settings → Theming → Custom CSS
 *
 * Note: tidal-hifi uses hash-based generated class names that change across
 * releases. The :root variables are stable; individual class overrides may
 * need updating after a Tidal web app update. Check the GitHub issue tracker
 * if something breaks: https://github.com/Mastermindzh/tidal-hifi
 */

/* ─── Design token overrides ──────────────────────────────────────────────── */
:root {
  /* Backgrounds */
  --footer-player-background:           #181825;  /* Mantle  — player bar */
  --sidebar-background:                 #1e1e2e;  /* Base    — left nav */
  --sidebar-hover-background:           #313244;  /* Surface0 — nav hover */
  --main-background:                    #1e1e2e;  /* Base    — content area */
  --main-navigation-control-background: #181825;  /* Mantle  — back/fwd buttons */
  --main-feed-button-background:        #313244;  /* Surface0 — feed bell */
  --player-control-background:          #313244;  /* Surface0 — active btn bg */
  --search-background:                  #313244;  /* Surface0 — search bar */
  --search-dialog-background:           #181825;  /* Mantle  — search overlay */
  --right-queue-background:             #181825;  /* Mantle  — right queue panel */

  /* Text */
  --sidebar-menu-top-text:              #cdd6f4;  /* Text    — primary labels */
  --sidebar-menu-playlist-text:         #a6adc8;  /* Subtext0 — secondary labels */

  /* Accents */
  --player-control-active-button:       #89b4fa;  /* Blue    — active/selected */
  --player-progress-bar:                #89b4fa;  /* Blue    — seek bar */
  --player-control-favorite:            #f38ba8;  /* Red     — heart/favourite */

  /* HiFi / Master quality indicator */
  --indicator-hifi-background:          #a6e3a1;  /* Green   — HiFi badge bg */
  --indicator-hifi-span:                #1e1e2e;  /* Base    — HiFi badge text */

  /* ─── Tidal Wave design-system variables ──────────────────────────────── */
  /* Backgrounds */
  --wave-color-solid-base-fill:         #11111b;  /* Crust */
  --wave-color-solid-base-bright:       #1e1e2e;  /* Base */
  --wave-color-solid-base-brighter:     #313244;  /* Surface0 */
  --wave-color-solid-base-brightest:    #45475a;  /* Surface1 */

  /* Text / contrast */
  --wave-color-solid-contrast-fill:     #cdd6f4;  /* Text */
  --wave-color-solid-contrast-dark:     #cdd6f4;  /* Text */
  --wave-color-solid-contrast-darker:   #a6adc8;  /* Subtext0 */
  --wave-color-solid-contrast-darkest:  #6c7086;  /* Overlay0 */

  /* Accent (replaces Tidal cyan with Catppuccin Blue) */
  --wave-color-solid-accent-fill:       #89b4fa;  /* Blue */
  --wave-color-solid-accent-bright:     #b4befe;  /* Lavender */
  --wave-color-solid-accent-dark:       #7096e8;  /* Blue darkened */
  --wave-color-solid-accent-darker:     #313244;  /* Surface0 */

  /* Warning / error (Tidal raspberry → Catppuccin Red) */
  --wave-color-solid-warning-fill:      #f38ba8;  /* Red */
  --wave-color-solid-warning-bright:    #eba0ac;  /* Maroon */
  --wave-color-solid-warning-dark:      #c0526f;  /* Red darkened */

  /* Special / gold (Master quality → Catppuccin Peach) */
  --wave-color-solid-special-fill:      #fab387;  /* Peach */
  --wave-color-solid-special-bright:    #f9e2af;  /* Yellow */
  --wave-color-solid-special-dark:      #e08060;  /* Peach darkened */

  /* Rainbow palette mapped to Catppuccin */
  --wave-color-solid-rainbow-blue-fill:   #89b4fa;  /* Blue */
  --wave-color-solid-rainbow-green-fill:  #a6e3a1;  /* Green */
  --wave-color-solid-rainbow-purple-fill: #cba6f7;  /* Mauve */
  --wave-color-solid-rainbow-red-fill:    #f38ba8;  /* Red */
  --wave-color-solid-rainbow-yellow-fill: #f9e2af;  /* Yellow */
  --wave-color-solid-rainbow-orange-fill: #fab387;  /* Peach */

  /* Opacity variants — Base */
  --wave-color-opacity-base-fill-ultra-thin:  #1e1e2e1a;
  --wave-color-opacity-base-fill-thin:        #1e1e2e33;
  --wave-color-opacity-base-fill-regular:     #1e1e2e66;
  --wave-color-opacity-base-fill-thick:       #1e1e2e99;
  --wave-color-opacity-base-fill-ultra-thick: #1e1e2ecc;

  /* Opacity variants — Accent (Blue) */
  --wave-color-opacity-accent-ultra-thin:  #89b4fa1a;
  --wave-color-opacity-accent-thin:        #89b4fa33;
  --wave-color-opacity-accent-regular:     #89b4fa66;
  --wave-color-opacity-accent-fill-ultra-thin:  #89b4fa1a;
  --wave-color-opacity-accent-fill-thin:        #89b4fa33;
  --wave-color-opacity-accent-fill-regular:     #89b4fa66;
  --wave-color-opacity-accent-fill-ultra-thick: #89b4facc;

  /* Opacity variants — Contrast (Text) */
  --wave-color-opacity-contrast-fill-ultra-thin:  #cdd6f41a;
  --wave-color-opacity-contrast-fill-thin:        #cdd6f433;
  --wave-color-opacity-contrast-fill-regular:     #cdd6f466;
  --wave-color-opacity-contrast-fill-thick:       #cdd6f499;
  --wave-color-opacity-contrast-fill-ultra-thick: #cdd6f4cc;

  /* Opacity variants — Special (Peach) */
  --wave-color-opacity-special-fill-ultra-thin:  #fab3871a;
  --wave-color-opacity-special-fill-thin:        #fab38733;
  --wave-color-opacity-special-fill-regular:     #fab38766;
  --wave-color-opacity-special-fill-ultra-thick: #fab387cc;

  /* Material overlays */
  --wave-color-material-dark:  #1e1e2e80;
  --wave-color-material-light: #cba6f733;

  /* Text semantic roles */
  --wave-color-text-main:        #cdd6f4;  /* Text */
  --wave-color-text-secondary:   #a6adc8;  /* Subtext0 */
  --wave-color-text-tertiary:    #6c7086;  /* Overlay0 */
  --wave-color-text-link:        #89b4fa;  /* Blue */
  --wave-color-text-disabled:    #45475a;  /* Surface1 */
  --wave-color-text-placeholder: #585b70;  /* Surface2 */

  /* Scrollbar */
  --scrollbar-track: #313244;   /* Surface0 */
  --scrollbar-thumb: #585b70;   /* Surface2 */
}

/* ─── Player bar ──────────────────────────────────────────────────────────── */
[class*="player--"][class*="notFullscreen--"] {
  background-color: var(--footer-player-background) !important;
  border-top: 1px solid #313244;
}

/* Progress / seek bar */
[class*="progressBarWrapper--"] {
  color: var(--player-progress-bar) !important;
}

/* ─── Sidebar ─────────────────────────────────────────────────────────────── */
[class*="sidebar--"] {
  background-color: var(--sidebar-background) !important;
}

[class*="item--"]:hover {
  background-color: var(--sidebar-hover-background) !important;
}

[class*="activeItem--"] {
  color: var(--sidebar-menu-top-text) !important;
}

[class*="activeItem--"] [class*="playlistItem--"] {
  color: var(--sidebar-menu-playlist-text) !important;
}

/* ─── Main content ────────────────────────────────────────────────────────── */
[class*="main--"] {
  background-color: var(--main-background) !important;
}

button[class*="button--"] {
  background-color: var(--main-navigation-control-background) !important;
}

/* ─── Search ──────────────────────────────────────────────────────────────── */
[class*="container--cl4MJ"],
[class*="searchField--"] {
  background-color: var(--search-background) !important;
}

[class*="baseContainer--"] {
  background-color: var(--search-dialog-background) !important;
}

[class*="searchFieldHighlighted--"] {
  color: var(--wave-color-text-main) !important;
}

/* ─── Right queue panel ───────────────────────────────────────────────────── */
[class*="container--PFTHk"] {
  background-color: var(--right-queue-background) !important;
}

/* ─── Favourite / heart button ────────────────────────────────────────────── */
[class*="favoriteButton--"].is-favorite path {
  fill: var(--player-control-favorite) !important;
}

/* ─── HiFi / Master quality badge ────────────────────────────────────────── */
.css-11m9iw3 {
  background-color: var(--indicator-hifi-background) !important;
}
.css-11m9iw3 span {
  color: var(--indicator-hifi-span) !important;
}

/* ─── Icons (global) ──────────────────────────────────────────────────────── */
.tidal-ui__icon {
  fill: var(--wave-color-solid-contrast-darker) !important;
  stroke: var(--wave-color-solid-contrast-darker) !important;
}

/* ─── Scrollbars ──────────────────────────────────────────────────────────── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}
::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: #6c7086;
}

/* ─── Settings window (tidal-hifi native UI) ──────────────────────────────── */
.settings-window {
  color: var(--sidebar-menu-playlist-text);
}

.settings-window__wrapper {
  background: var(--main-background);
  box-shadow: inset 0 0 2px 0 #313244;
}

.settings-window__close-button:hover {
  background: var(--sidebar-hover-background);
}

.settings input:checked + label {
  border-bottom: 2px solid var(--player-control-active-button);
  color: var(--player-control-active-button);
}

.tabs::-webkit-scrollbar-thumb {
  background-color: #45475a;
  box-shadow: inset 0 0 10px 2px var(--search-background);
}

.group {
  border-bottom: 1px solid #313244;
}

.group__description p {
  color: var(--sidebar-menu-top-text);
}

.group__description .text-input {
  border-bottom: solid 1px #313244;
  color: var(--sidebar-menu-top-text);
}

.group__description .text-input:focus {
  border-color: var(--player-control-active-button);
  color: var(--sidebar-menu-playlist-text);
}

.switch input:checked + .switch__slider {
  background-color: var(--player-control-active-button);
}

.switch input:checked + .switch__slider::before {
  background-color: #1e1e2e;
}

.switch input:focus + .switch__slider {
  box-shadow: inset 0 0 0 1px var(--player-control-active-button);
}

.switch__slider {
  background-color: var(--search-background);
}

.switch__slider::before {
  background-color: var(--sidebar-menu-top-text);
}

.textarea {
  background: var(--search-background);
  color: var(--sidebar-menu-top-text);
}

.textarea:focus {
  border-color: var(--player-control-active-button);
  color: var(--sidebar-menu-playlist-text);
}

.select-input {
  border-bottom: solid 1px #313244;
  color: var(--sidebar-menu-top-text);
}

.select-input:focus {
  border-color: var(--player-control-active-button);
  color: var(--sidebar-menu-playlist-text);
}

.select-input option {
  background-color: var(--search-background);
}

.about-section__version a {
  background-color: #45475a;
  color: var(--player-control-active-button);
}

.about-section__links a {
  color: var(--sidebar-menu-playlist-text);
  background-color: var(--search-background);
}

.about-section__links a:hover {
  background-color: var(--player-control-favorite);
}

.footer__note {
  color: var(--sidebar-menu-top-text);
}

.footer__button {
  background: #45475a;
  color: var(--sidebar-menu-playlist-text);
}

.footer__button:hover {
  background: #585b70;
}

.file-drop-area {
  border: 1px dashed var(--sidebar-menu-top-text);
}

.file-btn {
  background-color: #313244;
  border: 1px solid var(--sidebar-menu-top-text);
}
